@model IEnumerable<Motax.ViewModels.CarVM>

@{
    var successMessage = TempData["success"] as string;
    var errorMessage = TempData["error"] as string;
}

@if (!string.IsNullOrEmpty(successMessage))
{
    <div class="alert alert-success">@successMessage</div>
}

@if (!string.IsNullOrEmpty(errorMessage))
{
    <div class="alert alert-danger">@errorMessage</div>
}

@foreach (var item in Model)
{
    <div class="col-md-6 col-lg-4">
        <div class="car-item">
            <div class="car-img">
                @if (item.Condition == "New")
                {
                    <span class="car-status status-2">@item.Condition</span>
                }
                else
                {
                    <span class="car-status status-1">@item.Condition</span>
                }
                <a asp-action="Detail" asp-controller="Car" asp-route-id="@item.Id">
                    <img src="~/Images/Car/Single/@item.ImageSingle" alt="@item.Name">
                </a>
                <div class="car-btns">
                    <form asp-action="AddToWishlist" asp-controller="Car" method="post" class="d-inline">
                        @Html.AntiForgeryToken()
                        <input type="hidden" name="carId" value="@item.Id" />
                        <button type="submit" class="btn btn-link p-0"><i class="far fa-heart"></i></button>
                    </form>
                    <form asp-action="AddToCompare" asp-controller="Car" method="post" class="d-inline">
                        @Html.AntiForgeryToken()
                        <input type="hidden" name="carId" value="@item.Id" />
                        <button type="submit" class="btn btn-link p-0"><i class="far fa-arrows-repeat"></i></button>
                    </form>
                </div>
            </div>
            <div class="car-content">
                <div class="car-top">
                    <h4><a asp-action="Detail" asp-controller="Car" asp-route-id="@item.Id">@item.Name</a></h4>
                    <div class="car-rate">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <span>5.0 (58.5k Review)</span>
                    </div>
                </div>
                <ul class="car-list">
                    <li><i class="far fa-steering-wheel"></i>@item.Transmission</li>
                    <li><i class="far fa-road"></i>@item.Mileage</li>
                    <li><i class="far fa-car"></i>Model: @item.Year</li>
                    <li><i class="far fa-gas-pump"></i>@item.FuelType</li>
                </ul>
                <div class="car-footer">
                    <span class="car-price">$@item.Price</span>
                    <a asp-action="Detail" asp-controller="Car" asp-route-id="@item.Id" class="theme-btn"><span class="far fa-eye"></span>Details</a>
                </div>
            </div>
        </div>
    </div>
}

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}
